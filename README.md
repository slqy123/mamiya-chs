# 介绍
本补丁为游戏[《間宮くんちの五つ子事情》](http://www.cuffs-cube.jp/products/mamiya/)的汉化补丁。包含游戏本体以及1.1增加的京花patch的文本汉化。
关于汉化补丁有几点要说明：
1. 关于完成度
本补丁仅包含游戏文本的汉化，图片和视频的的汉化工作由于本人能力有限无法完成，将来也无意完成。但欢迎PR。
1. 关于机翻
游戏的日常部分均为人工汉化。HS 少部分为人工汉化，大部分使用 Copilot(GPT-4) 翻译，并进行了最低程度的润色。关于各章节的汉化情况可以参考[这里](./NOTE.md#游戏进度)
1. 关于汉化者
本补丁为个人汉化，汉化者本人在汉化前无任何日语基础，制做本补丁的初衷其实是想通过翻译来自学日语。
从22年底开始汉化到现在也1年多了，虽然没经过系统的学习，但目前推日常的生肉已经可以做到流畅了。
当然，刚开始汉化的时候翻译得牛头不对马嘴的内容都已经重新翻译过了。因此请自行判断是否选择游玩。
如果对本人自学日语的经验有兴趣，也可以看一看[这里](./EXP.md)

> 使用本补丁即代表您已知悉上述内容。对于因上述内容而引起的任何游玩体验问题，本人只会随缘修复，但欢迎PR。

# 安装
可以直接从release获取本补丁的安装程序。
解压后将游戏主程序所在目录的文件夹拖拽至补丁内的`patch_install.exe`文件上运行即可完成安装。
安装完成后运行`mamiya_chs.exe`开始游戏，程序支持以下命令行参数：
- `-debug` 开启调试模式
- `-jp` 切换为日文文本
- `-disable-subtitle` 取消副语言显示
- `-disable-comment` 取消长段注释显示

如过想获取更多的自定义设置（闲得无聊），也可以直接从源码安装。具体方法参考[这一节](#从源码安装)

# 开源协议
本补丁所有中文文本均采用[CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/)协议分享。

相关代码片段则采用[MIT](https://opensource.org/licenses/MIT)协议。

# 从源码安装
安装前的准备如下：
- python >= 3.10
- GNU Core Utils
- GNU Make

对于 Windows 用户，可以考虑wsl或msys2获得对应依赖工具。

也可以手动安装这些工具的windows版本。

## 安装步骤
1. 下载源码
1. 创建字体
可以使用 `assets/krkrfont.exe` 生成tft文件放在 `fonts` 文件夹下。

也可以用 `_scripts/gen_fonts.py` 自动创建，但仅限于windows环境。

如果你手头没有Windows机器，也可以考虑使用 `wine`，运行 `make font-wine` 即可。
> 注意：你需要在wine中安装好`python3`以及相关的库。另外，在本人写这个文档的时候，wine中的`pywinauto`并不能正常运行，可以使用这个[PR](https://github.com/pywinauto/pywinauto/pull/1325)

1. 创建补丁
```
make && make build
```

随后就可以在`out`目录下看到生成的补丁。

# 汉化感想
当年一拍脑门就决定要学日语，看了两节网课后瞬间就被五十音图劝退了。
搁置了一段时间，直到某一天看到了一篇[文章](https://www.bilibili.com/read/cv197917)，才重新燃起了想要通过啃生肉来学习日语的想法。
然后想着既然都啃生肉了，为什么不汉化呢？（当时的我实在是有些天真，现在才知道汉化和啃生肉完全是两码事，汉化考验的真的是语文而不是日语）
然后说干就开始干，一干就是一年半。

本来是想赶在毕设之前完成的，结果我还是错误地估计了自己的摆烂能力。
翻译到后面就开始后悔自己最初选择的作品了，当时刷到个帖子说这个游戏好久没人汉化，我就想着应该不会撞车，然后就决定了。（主要当时的自己对生肉了解得太少了，后来开始接触生肉之后就找到了很多自己想汉化的作品。但都已经干了那么多了，没办法只能做到底了）
但是从头到尾汉化一篇长篇废萌是真的折磨啊，汉化到一半就开始不想干了。
最后能干完靠的全是毅力啊。

这里要感谢一下舍友在语文方面对我的帮助，以及对于我在宿舍汉化HS的包容。